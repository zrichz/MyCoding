const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Canvas3D-C01xsvPB.js","./index-Dw8Uzof1.js","./index-qRhMeKhs.css"])))=>i.map(i=>d[i]);
import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import{createEventDispatcher as Z,tick as H}from"./svelte/svelte_svelte.js";import"./i18n-CyvX8KmK.js";import{G as ee}from"./utils.svelte-Ceck75cM.js";import te from"./Model3D-CMrqgdpS.js";import{_ as K}from"./index-Dw8Uzof1.js";import"./svelte/svelte_internal_flags_legacy.js";import{U as re,M as ae}from"./ModifyUpload-2md6CVWe.js";import{b as X,F as J,B as N,E as le,U as oe,c as se}from"./IconButtonWrapper-D4LMIc_2.js";import{S as Q}from"./StreamingBar-C6ky6DsM.js";import{default as Fe}from"./Example-k72ew9Yb.js";import"./svelte/svelte_store.js";import"./index-tFQomdd2.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./MarkdownCode-C7jLnxqj.js";import"./prism-python-B1e-54E9.js";var ne=e.from_html('<div class="input-model svelte-18wa0f8"><!> <!></div>'),de=e.from_html("<!> <!>",1);function ie(T,a){e.push(a,!1);let n=e.prop(a,"value",12),M=e.prop(a,"display_mode",12,"solid"),t=e.prop(a,"clear_color",28,()=>[0,0,0,0]),b=e.prop(a,"label",12,""),y=e.prop(a,"show_label",12),c=e.prop(a,"root",12),p=e.prop(a,"i18n",12),i=e.prop(a,"zoom_speed",12,1),w=e.prop(a,"pan_speed",12,1),E=e.prop(a,"max_file_size",12,null),z=e.prop(a,"uploading",12,!1),x=e.prop(a,"upload_promise",12,null),P=e.prop(a,"camera_position",28,()=>[null,null,null]),B=e.prop(a,"upload",12),D=e.prop(a,"stream_handler",12);async function W({detail:r}){n(r),await H(),d("change",n()),d("load",n())}async function j(){n(null),await H(),d("clear"),d("change")}let m=e.mutable_source(!1),s=e.mutable_source(),h=e.mutable_source();async function U(){return(await K(()=>import("./Canvas3D-C01xsvPB.js"),__vite__mapDeps([0,1,2]),import.meta.url)).default}async function k(){return(await K(()=>import("./Canvas3DGS-BRjU3I6P.js"),[],import.meta.url)).default}let C=e.mutable_source();async function f(){e.get(C)?.reset_camera_position()}const d=Z();let _=e.mutable_source(!1);e.legacy_pre_effect(()=>(e.deep_read_state(n()),e.get(m)),()=>{n()&&(e.set(m,n().path.endsWith(".splat")||n().path.endsWith(".ply")),e.get(m)?k().then(r=>{e.set(s,r)}):U().then(r=>{e.set(h,r)}))}),e.legacy_pre_effect(()=>e.get(_),()=>{d("drag",e.get(_))}),e.legacy_pre_effect_reset();var l={get value(){return n()},set value(r){n(r),e.flush()},get display_mode(){return M()},set display_mode(r){M(r),e.flush()},get clear_color(){return t()},set clear_color(r){t(r),e.flush()},get label(){return b()},set label(r){b(r),e.flush()},get show_label(){return y()},set show_label(r){y(r),e.flush()},get root(){return c()},set root(r){c(r),e.flush()},get i18n(){return p()},set i18n(r){p(r),e.flush()},get zoom_speed(){return i()},set zoom_speed(r){i(r),e.flush()},get pan_speed(){return w()},set pan_speed(r){w(r),e.flush()},get max_file_size(){return E()},set max_file_size(r){E(r),e.flush()},get uploading(){return z()},set uploading(r){z(r),e.flush()},get upload_promise(){return x()},set upload_promise(r){x(r),e.flush()},get camera_position(){return P()},set camera_position(r){P(r),e.flush()},get upload(){return B()},set upload(r){B(r),e.flush()},get stream_handler(){return D()},set stream_handler(r){D(r),e.flush()}};e.init();var I=de(),u=e.first_child(I);{let r=e.derived_safe_equal(()=>b()||"3D Model");X(u,{get show_label(){return y()},get Icon(){return J},get label(){return e.get(r)}})}var $=e.sibling(u,2);{var q=r=>{{let v=e.derived_safe_equal(()=>(e.deep_read_state(p()),e.untrack(()=>p()("model3d.drop_to_upload"))));re(r,{get upload(){return B()},get stream_handler(){return D()},get root(){return c()},get max_file_size(){return E()},filetype:[".stl",".obj",".gltf",".glb","model/obj",".splat",".ply"],get aria_label(){return e.get(v)},get upload_promise(){return x()},set upload_promise(o){x(o)},get dragging(){return e.get(_)},set dragging(o){e.set(_,o)},get uploading(){return z()},set uploading(o){z(o)},$$events:{load:W,error(o){e.bubble_event.call(this,a,o)}},children:(o,G)=>{var L=e.comment(),F=e.first_child(L);e.slot(F,a,"default",{},null),e.append(o,L)},$$slots:{default:!0},$$legacy:!0})}},A=r=>{var v=ne(),o=e.child(v);{let g=e.derived_safe_equal(()=>!e.get(m));ae(o,{get undoable(){return e.get(g)},get i18n(){return p()},$$events:{clear:j,undo:f}})}var G=e.sibling(o,2);{var L=g=>{var S=e.comment(),O=e.first_child(S);e.component(O,()=>e.get(s),(R,V)=>{V(R,{get value(){return n()},get zoom_speed(){return i()},get pan_speed(){return w()}})}),e.append(g,S)},F=g=>{var S=e.comment(),O=e.first_child(S);e.component(O,()=>e.get(h),(R,V)=>{e.bind_this(V(R,{get value(){return n()},get display_mode(){return M()},get clear_color(){return t()},get camera_position(){return P()},get zoom_speed(){return i()},get pan_speed(){return w()},$$legacy:!0}),Y=>e.set(C,Y),()=>e.get(C))}),e.append(g,S)};e.if(G,g=>{e.get(m)?g(L):g(F,!1)})}e.reset(v),e.append(r,v)};e.if($,r=>{n()==null?r(q):r(A,!1)})}return e.append(T,I),e.pop(l)}var ue=e.from_html("<!> <!> <!>",1),pe=e.from_html("<!> <!>",1),_e=e.from_html("<!> <!>",1);function We(T,a){e.push(a,!0);class n extends ee{async get_data(){return e.get(i)&&(await e.get(i),await H()),await super.get_data()}}const M=e.rest_props(a,["$$slots","$$events","$$legacy"]),t=new n(M);let b=e.state(e.proxy(t.props.value)),y=e.state(!1),c=e.state(!1),p=e.state(!1),i=e.state(void 0);const w=typeof window<"u";e.user_effect(()=>{e.get(b)!==t.props.value&&(e.set(b,t.props.value,!0),t.dispatch("change"))});function E(s){t.props.value=s,t.dispatch("change",s),e.set(p,!0)}function z(s){e.set(c,s,!0)}function x(){t.props.value=null,t.dispatch("clear")}function P(s){t.props.value=s,t.dispatch("upload")}function B(s){t.shared.loading_status&&(t.shared.loading_status.status="error"),t.dispatch("error",s)}var D=e.comment(),W=e.first_child(D);{var j=s=>{{let h=e.derived(()=>t.props.value===null?"dashed":"solid"),U=e.derived(()=>e.get(c)?"focus":"base");N(s,{get visible(){return t.shared.visible},get variant(){return e.get(h)},get border_mode(){return e.get(U)},padding:!1,get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},get height(){return t.props.height},children:(k,C)=>{var f=pe(),d=e.first_child(f);Q(d,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var _=e.sibling(d,2);{var l=u=>{te(u,{get value(){return t.props.value},get i18n(){return t.i18n},get display_mode(){return t.props.display_mode},get clear_color(){return t.props.clear_color},get label(){return t.shared.label},get show_label(){return t.shared.show_label},get camera_position(){return t.props.camera_position},get zoom_speed(){return t.props.zoom_speed},get has_change_history(){return e.get(p)}})},I=u=>{var $=ue(),q=e.first_child($);{var A=o=>{se(o,{get buttons(){return t.props.buttons},on_custom_button_click:G=>{t.dispatch("custom_button_click",{id:G})}})};e.if(q,o=>{t.shared.show_label&&t.props.buttons&&t.props.buttons.length>0&&o(A)})}var r=e.sibling(q,2);{let o=e.derived(()=>t.shared.label||"3D Model");X(r,{get show_label(){return t.shared.show_label},get Icon(){return J},get label(){return e.get(o)}})}var v=e.sibling(r,2);le(v,{unpadded_box:!0,size:"large",children:(o,G)=>{J(o)},$$slots:{default:!0}}),e.append(u,$)};e.if(_,u=>{t.props.value&&w?u(l):u(I,!1)})}e.append(k,f)},$$slots:{default:!0}})}},m=s=>{{let h=e.derived(()=>t.props.value===null?"dashed":"solid"),U=e.derived(()=>e.get(c)?"focus":"base");N(s,{get visible(){return t.shared.visible},get variant(){return e.get(h)},get border_mode(){return e.get(U)},padding:!1,get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},get height(){return t.props.height},children:(k,C)=>{var f=_e(),d=e.first_child(f);Q(d,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var _=e.sibling(d,2);ie(_,{get label(){return t.shared.label},get show_label(){return t.shared.show_label},get root(){return t.shared.root},get display_mode(){return t.props.display_mode},get clear_color(){return t.props.clear_color},get value(){return t.props.value},get camera_position(){return t.props.camera_position},get zoom_speed(){return t.props.zoom_speed},get i18n(){return t.i18n},get max_file_size(){return t.shared.max_file_size},upload:(...l)=>t.shared.client.upload(...l),stream_handler:(...l)=>t.shared.client.stream(...l),get upload_promise(){return e.get(i)},set upload_promise(l){e.set(i,l,!0)},get uploading(){return e.get(y)},set uploading(l){e.set(y,l,!0)},$$events:{change:({detail:l})=>E(l),drag:({detail:l})=>z(l),clear:x,load:({detail:l})=>P(l),error:({detail:l})=>B(l)},children:(l,I)=>{oe(l,{get i18n(){return t.i18n},type:"file"})},$$slots:{default:!0}}),e.append(k,f)},$$slots:{default:!0}})}};e.if(W,s=>{t.shared.interactive?s(m,!1):s(j)})}e.append(T,D),e.pop()}export{Fe as BaseExample,te as BaseModel3D,ie as BaseModel3DUpload,We as default};
