const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./module-FFb15TvM.js","./module-BTkNA4K1.js","./module-8x-imyhh.js"])))=>i.map(i=>d[i]);
import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import{createEventDispatcher as Pe,onMount as ye,onDestroy as Le,tick as Je}from"./svelte/svelte_svelte.js";import"./i18n-CyvX8KmK.js";import{f as Q,u as Ke,G as Qe}from"./utils.svelte-Ceck75cM.js";import{a as Xe,S as Me}from"./StreamingBar-C6ky6DsM.js";import{s as Be,u as De,W as $e,p as Ue,A as et,S as tt}from"./StaticAudio-BUAVPUMF.js";import"./svelte/svelte_internal_flags_legacy.js";import{M as Ie,U as rt}from"./ModifyUpload-2md6CVWe.js";import{_ as Oe,p as st}from"./index-Dw8Uzof1.js";import{x as at,H as it,b as ot,v as nt,o as lt,Z as dt,B as Te,U as ut}from"./IconButtonWrapper-D4LMIc_2.js";import{S as ct}from"./ShareButton-DGzDjeX1.js";function We(j,t,s,i){return new(s||(s=Promise))((function(d,r){function o(p){try{f(i.next(p))}catch(l){r(l)}}function m(p){try{f(i.throw(p))}catch(l){r(l)}}function f(p){var l;p.done?d(p.value):(l=p.value,l instanceof s?l:new s((function(n){n(l)}))).then(o,m)}f((i=i.apply(j,[])).next())}))}class qe{constructor(){this.listeners={}}on(t,s,i){if(this.listeners[t]||(this.listeners[t]=new Set),i?.once){const d=(...r)=>{this.un(t,d),s(...r)};return this.listeners[t].add(d),()=>this.un(t,d)}return this.listeners[t].add(s),()=>this.un(t,s)}un(t,s){var i;(i=this.listeners[t])===null||i===void 0||i.delete(s)}once(t,s){return this.on(t,s,{once:!0})}unAll(){this.listeners={}}emit(t,...s){this.listeners[t]&&this.listeners[t].forEach((i=>i(...s)))}}class gt extends qe{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}class _t extends qe{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}const pt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class me extends gt{constructor(t){var s,i,d,r,o,m;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(s=t.audioBitsPerSecond)!==null&&s!==void 0?s:128e3,scrollingWaveform:(i=t.scrollingWaveform)!==null&&i!==void 0&&i,scrollingWaveformWindow:(d=t.scrollingWaveformWindow)!==null&&d!==void 0?d:5,continuousWaveform:(r=t.continuousWaveform)!==null&&r!==void 0&&r,renderRecordedAudio:(o=t.renderRecordedAudio)===null||o===void 0||o,mediaRecorderTimeslice:(m=t.mediaRecorderTimeslice)!==null&&m!==void 0?m:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.micStream=null,this.recordedBlobUrl=null,this.timer=new _t,this.subscriptions.push(this.timer.on("tick",(()=>{const f=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+f,this.emit("record-progress",this.duration)})))}static create(t){return new me(t||{})}renderMicStream(t){var s;const i=new AudioContext,d=i.createMediaStreamSource(t),r=i.createAnalyser();d.connect(r),this.options.continuousWaveform&&(r.fftSize=32);const o=r.frequencyBinCount,m=new Float32Array(o);let f=0;this.wavesurfer&&((s=this.originalOptions)!==null&&s!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const p=setInterval((()=>{var l,n,b,g;if(!this.isWaveformPaused){if(r.getFloatTimeDomainData(m),this.options.scrollingWaveform){const _=Math.floor((this.options.scrollingWaveformWindow||0)*i.sampleRate),h=Math.min(_,this.dataWindow?this.dataWindow.length+o:o),x=new Float32Array(_);if(this.dataWindow){const P=Math.max(0,_-this.dataWindow.length);x.set(this.dataWindow.slice(-h+o),P)}x.set(m,_-o),this.dataWindow=x}else if(this.options.continuousWaveform){if(!this.dataWindow){const h=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((n=(l=this.wavesurfer)===null||l===void 0?void 0:l.getWidth())!==null&&n!==void 0?n:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(h)}let _=0;for(let h=0;h<o;h++){const x=Math.abs(m[h]);x>_&&(_=x)}if(f+1>this.dataWindow.length){const h=new Float32Array(2*this.dataWindow.length);h.set(this.dataWindow,0),this.dataWindow=h}this.dataWindow[f]=_,f++}else this.dataWindow=m;if(this.wavesurfer){const _=((g=(b=this.dataWindow)===null||b===void 0?void 0:b.length)!==null&&g!==void 0?g:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:_).then((()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))})).catch((h=>{console.error("Error rendering real-time recording data:",h)}))}}}),10);return{onDestroy:()=>{clearInterval(p),d?.disconnect(),i?.close()},onEnd:()=>{this.isWaveformPaused=!0,this.stopMic()}}}startMic(t){return We(this,void 0,void 0,(function*(){let s;this.micStream&&this.stopMic();try{s=yield navigator.mediaDevices.getUserMedia({audio:t==null||t})}catch(d){throw new Error("Error accessing the microphone: "+d.message)}const i=this.renderMicStream(s);return this.micStream=i,this.unsubscribeDestroy=this.once("destroy",i.onDestroy),this.unsubscribeRecordEnd=this.once("record-end",i.onEnd),this.stream=s,s}))}stopMic(){var t,s,i;(t=this.micStream)===null||t===void 0||t.onDestroy(),(s=this.unsubscribeDestroy)===null||s===void 0||s.call(this),(i=this.unsubscribeRecordEnd)===null||i===void 0||i.call(this),this.micStream=null,this.unsubscribeDestroy=void 0,this.unsubscribeRecordEnd=void 0,this.stream&&(this.stream.getTracks().forEach((d=>d.stop())),this.stream=null,this.mediaRecorder=null)}startRecording(t){return We(this,void 0,void 0,(function*(){const s=this.stream||(yield this.startMic(t));this.dataWindow=null;const i=this.mediaRecorder||new MediaRecorder(s,{mimeType:this.options.mimeType||pt.find((o=>MediaRecorder.isTypeSupported(o))),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=i,this.stopRecording();const d=[];i.ondataavailable=o=>{o.data.size>0&&d.push(o.data),this.emit("record-data-available",o.data)};const r=o=>{var m;const f=new Blob(d,{type:i.mimeType});this.emit(o,f),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),this.recordedBlobUrl&&URL.revokeObjectURL(this.recordedBlobUrl),this.recordedBlobUrl=URL.createObjectURL(f),(m=this.wavesurfer)===null||m===void 0||m.load(this.recordedBlobUrl))};i.onpause=()=>r("record-pause"),i.onstop=()=>r("record-end"),i.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")}))}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,s;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(s=this.mediaRecorder)===null||s===void 0||s.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return We(this,void 0,void 0,(function*(){return navigator.mediaDevices.enumerateDevices().then((t=>t.filter((s=>s.kind==="audioinput"))))}))}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic(),this.recordedBlobUrl&&(URL.revokeObjectURL(this.recordedBlobUrl),this.recordedBlobUrl=null)}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}var mt=e.from_html("<option> </option>"),ft=e.from_html("<option> </option>"),vt=e.from_html('<select class="mic-select svelte-ym1wxn" aria-label="Select input device"><!></select>');function Ce(j,t){e.push(t,!1);let s=e.prop(t,"i18n",12),i=e.prop(t,"micDevices",28,()=>[]);const d=Pe();e.legacy_pre_effect(()=>e.deep_read_state(s()),()=>{if(typeof window<"u")try{let l=[];me.getAvailableAudioDevices().then(n=>{i(n),n.forEach(b=>{b.deviceId&&l.push(b)}),i(l)})}catch(l){throw l instanceof DOMException&&l.name=="NotAllowedError"&&d("error",s()("audio.allow_recording_access")),l}}),e.legacy_pre_effect_reset();var r={get i18n(){return s()},set i18n(l){s(l),e.flush()},get micDevices(){return i()},set micDevices(l){i(l),e.flush()}};e.init();var o=vt(),m=e.child(o);{var f=l=>{var n=mt(),b=e.child(n,!0);e.reset(n),n.value=n.__value="",e.template_effect(g=>e.set_text(b,g),[()=>(e.deep_read_state(s()),e.untrack(()=>s()("audio.no_microphone")))]),e.append(l,n)},p=l=>{var n=e.comment(),b=e.first_child(n);e.each(b,1,i,e.index,(g,_)=>{var h=ft(),x=e.child(h,!0);e.reset(h);var P={};e.template_effect(()=>{e.set_text(x,(e.get(_),e.untrack(()=>e.get(_).label))),P!==(P=(e.get(_),e.untrack(()=>e.get(_).deviceId)))&&(h.value=(h.__value=(e.get(_),e.untrack(()=>e.get(_).deviceId)))??"")}),e.append(g,h)}),e.append(l,n)};e.if(m,l=>{e.deep_read_state(i()),e.untrack(()=>i().length===0)?l(f):l(p,!1)})}return e.reset(o),e.template_effect(()=>o.disabled=(e.deep_read_state(i()),e.untrack(()=>i().length===0))),e.append(j,o),e.pop(r)}var ht=e.from_html('<time class="duration-button duration svelte-1xuh0j1"> </time>'),bt=e.from_html('<div class="controls svelte-1xuh0j1"><div class="wrapper svelte-1xuh0j1"><button class="record record-button svelte-1xuh0j1"> </button> <button> </button> <button id="stop-paused" class="stop-button-paused svelte-1xuh0j1"> </button> <button aria-label="pause" class="pause-button svelte-1xuh0j1"><!></button> <button class="resume-button svelte-1xuh0j1"> </button> <!></div> <!></div>');function wt(j,t){e.push(t,!1);let s=e.prop(t,"record",12),i=e.prop(t,"i18n",12),d=e.prop(t,"recording",12,!1),r=e.mutable_source([]),o=e.mutable_source(),m=e.mutable_source(),f=e.mutable_source(),p=e.mutable_source(),l=e.mutable_source(),n=e.mutable_source(!1),b=e.prop(t,"record_time",12),g=e.prop(t,"show_recording_waveform",12),_=e.prop(t,"timing",12,!1);const h=()=>{e.mutate(o,e.get(o).style.display="none"),e.mutate(p,e.get(p).style.display="flex"),e.mutate(m,e.get(m).style.display="block")},x=()=>{s().isPaused()&&(s().resumeRecording(),s().stopRecording()),s().stopMic(),e.mutate(o,e.get(o).style.display="flex"),e.mutate(p,e.get(p).style.display="none"),e.mutate(m,e.get(m).style.display="none"),e.mutate(o,e.get(o).disabled=!1)},P=()=>{e.mutate(m,e.get(m).style.display="none"),e.mutate(f,e.get(f).style.display="block"),e.mutate(p,e.get(p).style.display="none"),e.mutate(l,e.get(l).style.display="flex")},M=()=>{e.mutate(m,e.get(m).style.display="block"),e.mutate(f,e.get(f).style.display="none"),e.mutate(o,e.get(o).style.display="none"),e.mutate(p,e.get(p).style.display="flex"),e.mutate(l,e.get(l).style.display="none")};ye(()=>{s().on("record-start",h),s().on("record-end",x),s().on("record-pause",P),s().on("record-resume",M)}),Le(()=>{s().un("record-start",h),s().un("record-end",x),s().un("record-pause",P),s().un("record-resume",M)}),e.legacy_pre_effect(()=>(e.deep_read_state(d()),e.get(n),e.deep_read_state(s())),()=>{d()&&!e.get(n)?s().startMic().then(()=>{s().startRecording(),e.set(n,!0)}):!d()&&e.get(n)&&(s().isPaused()&&s().resumeRecording(),s().stopRecording(),e.set(n,!1))}),e.legacy_pre_effect_reset();var N={get record(){return s()},set record(v){s(v),e.flush()},get i18n(){return i()},set i18n(v){i(v),e.flush()},get recording(){return d()},set recording(v){d(v),e.flush()},get record_time(){return b()},set record_time(v){b(v),e.flush()},get show_recording_waveform(){return g()},set show_recording_waveform(v){g(v),e.flush()},get timing(){return _()},set timing(v){_(v),e.flush()}};e.init();var B=bt(),q=e.child(B),R=e.child(q),U=e.child(R,!0);e.reset(R),e.bind_this(R,v=>e.set(o,v),()=>e.get(o));var c=e.sibling(R,2),D=e.child(c,!0);e.reset(c),e.bind_this(c,v=>e.set(p,v),()=>e.get(p));var W=e.sibling(c,2),O=e.child(W,!0);e.reset(W),e.bind_this(W,v=>e.set(l,v),()=>e.get(l));var I=e.sibling(W,2),L=e.child(I);at(L),e.reset(I),e.bind_this(I,v=>e.set(m,v),()=>e.get(m));var k=e.sibling(I,2),w=e.child(k,!0);e.reset(k),e.bind_this(k,v=>e.set(f,v),()=>e.get(f));var G=e.sibling(k,2);{var S=v=>{var C=ht(),K=e.child(C,!0);e.reset(C),e.template_effect(()=>e.set_text(K,b())),e.append(v,C)};e.if(G,v=>{_()&&!g()&&v(S)})}e.reset(q);var H=e.sibling(q,2);return Ce(H,{get i18n(){return i()},get micDevices(){return e.get(r)},set micDevices(v){e.set(r,v)},$$legacy:!0}),e.reset(B),e.template_effect((v,C,K,$,oe)=>{e.set_text(U,v),e.set_class(c,1,`stop-button ${C??""}`,"svelte-1xuh0j1"),e.set_text(D,K),e.set_text(O,$),e.set_text(w,oe)},[()=>(e.deep_read_state(i()),e.untrack(()=>i()("audio.record"))),()=>(e.deep_read_state(s()),e.untrack(()=>s().isPaused()?"stop-button-paused":"")),()=>(e.deep_read_state(i()),e.untrack(()=>i()("audio.stop"))),()=>(e.deep_read_state(i()),e.untrack(()=>i()("audio.stop"))),()=>(e.deep_read_state(i()),e.untrack(()=>i()("audio.resume")))]),e.event("click",R,()=>s().startRecording()),e.event("click",c,()=>{s().isPaused()&&(s().resumeRecording(),s().stopRecording()),s().stopRecording()}),e.event("click",W,()=>{s().isPaused()&&(s().resumeRecording(),s().stopRecording()),s().stopRecording()}),e.event("click",I,()=>s().pauseRecording()),e.event("click",k,()=>s().resumeRecording()),e.append(j,B),e.pop(N)}var yt=e.from_html('<time class="trim-duration svelte-j9q3sk"> </time>'),kt=e.from_html('<time class="duration svelte-j9q3sk"> </time>'),xt=e.from_html('<time class="duration svelte-j9q3sk">0:00</time>'),Rt=e.from_html('<div class="timestamps svelte-j9q3sk"><time class="time svelte-j9q3sk">0:00</time> <div><!> <!></div></div>'),Wt=e.from_html('<div class="component-wrapper svelte-j9q3sk"><div class="microphone svelte-j9q3sk" data-testid="microphone-waveform"></div> <div data-testid="recording-waveform"></div> <!> <!> <!></div>');function Dt(j,t){e.push(t,!1);let s=e.prop(t,"mode",12),i=e.prop(t,"i18n",12),d=e.prop(t,"dispatch_blob",12),r=e.prop(t,"waveform_settings",12),o=e.prop(t,"waveform_options",28,()=>({show_recording_waveform:!0})),m=e.prop(t,"handle_reset_value",12),f=e.prop(t,"editable",12,!0),p=e.prop(t,"recording",12,!1),l,n=e.mutable_source(),b=e.mutable_source(!1),g=e.mutable_source(),_=e.mutable_source(),h=e.mutable_source(),x=e.mutable_source(null),P=e.mutable_source(),M=e.mutable_source(),N=e.mutable_source(),B=e.mutable_source(0),q,R=e.mutable_source(!1),U=e.mutable_source(0);const c=()=>{clearInterval(q),q=setInterval(()=>{e.update(B)},1e3)},D=Pe();function W(){if(c(),e.set(R,!0),D("start_recording"),o().show_recording_waveform){let u=e.get(_);u&&(u.style.display="block")}}async function O(u){e.set(B,0),e.set(R,!1),clearInterval(q);try{const y=await u.arrayBuffer(),z=await new AudioContext({sampleRate:r().sampleRate}).decodeAudioData(y);z&&await Ue(z).then(async te=>{await d()([te],"change"),await d()([te],"stop_recording")})}catch(y){console.error(y)}}let I=e.mutable_source(!1);const L=()=>{e.get(_)&&e.mutate(_,e.get(_).innerHTML=""),l!==void 0&&l.destroy(),e.get(_)&&(l=De.create({...r(),normalize:!1,container:e.get(_)}),e.set(h,l.registerPlugin(me.create())),e.get(h)?.on("record-end",O),e.get(h)?.on("record-start",W),e.get(h)?.on("record-pause",()=>{D("pause_recording"),clearInterval(q)}),e.get(h)?.on("record-end",u=>{e.set(x,URL.createObjectURL(u));const y=e.get(_),V=e.get(g);y&&(y.style.display="none"),V&&e.get(x)&&(V.innerHTML="",k())}),e.set(I,!0))},k=()=>{let u=e.get(g);!e.get(x)||!u||e.set(n,De.create({container:u,url:e.get(x),...r()}))},w=async(u,y)=>{s("edit");const V=e.get(n).getDecodedData();V&&await Ue(V,u,y).then(async z=>{await d()([z],"change"),await d()([z],"stop_recording"),e.get(n).destroy(),k()}),D("edit")};ye(()=>{L(),window.addEventListener("keydown",u=>{e.get(g)&&e.get(g).contains(document.activeElement)&&(u.key==="ArrowRight"?Be(e.get(n),.1):u.key==="ArrowLeft"&&Be(e.get(n),-.1))})}),e.legacy_pre_effect(()=>e.get(h),()=>{e.get(h)?.on("record-resume",()=>{c()})}),e.legacy_pre_effect(()=>(e.get(n),e.get(M),Q),()=>{e.get(n)?.on("decode",u=>{e.set(N,u),e.get(M)&&e.mutate(M,e.get(M).textContent=Q(u))})}),e.legacy_pre_effect(()=>(e.get(n),e.get(P),Q),()=>{e.get(n)?.on("timeupdate",u=>e.get(P)&&e.mutate(P,e.get(P).textContent=Q(u)))}),e.legacy_pre_effect(()=>e.get(n),()=>{e.get(n)?.on("pause",()=>{D("pause"),e.set(b,!1)})}),e.legacy_pre_effect(()=>e.get(n),()=>{e.get(n)?.on("play",()=>{D("play"),e.set(b,!0)})}),e.legacy_pre_effect(()=>e.get(n),()=>{e.get(n)?.on("finish",()=>{D("stop"),e.set(b,!1)})}),e.legacy_pre_effect_reset();var G={get mode(){return s()},set mode(u){s(u),e.flush()},get i18n(){return i()},set i18n(u){i(u),e.flush()},get dispatch_blob(){return d()},set dispatch_blob(u){d(u),e.flush()},get waveform_settings(){return r()},set waveform_settings(u){r(u),e.flush()},get waveform_options(){return o()},set waveform_options(u){o(u),e.flush()},get handle_reset_value(){return m()},set handle_reset_value(u){m(u),e.flush()},get editable(){return f()},set editable(u){f(u),e.flush()},get recording(){return p()},set recording(u){p(u),e.flush()}};e.init();var S=Wt(),H=e.child(S);e.bind_this(H,u=>e.set(_,u),()=>e.get(_));var v=e.sibling(H,2);e.bind_this(v,u=>e.set(g,u),()=>e.get(g));var C=e.sibling(v,2);{var K=u=>{var y=Rt(),V=e.child(y);e.bind_this(V,F=>e.set(P,F),()=>e.get(P));var z=e.sibling(V,2),te=e.child(z);{var ke=F=>{var Y=yt(),X=e.child(Y,!0);e.reset(Y),e.template_effect(ne=>e.set_text(X,ne),[()=>(e.deep_read_state(Q),e.get(U),e.untrack(()=>Q(e.get(U))))]),e.append(F,Y)};e.if(te,F=>{s()==="edit"&&e.get(U)>0&&F(ke)})}var ve=e.sibling(te,2);{var ce=F=>{var Y=kt(),X=e.child(Y,!0);e.reset(Y),e.template_effect(ne=>e.set_text(X,ne),[()=>(e.deep_read_state(Q),e.get(B),e.untrack(()=>Q(e.get(B))))]),e.append(F,Y)},xe=F=>{var Y=xt();e.bind_this(Y,X=>e.set(M,X),()=>e.get(M)),e.append(F,Y)};e.if(ve,F=>{e.get(R)?F(ce):F(xe,!1)})}e.reset(z),e.reset(y),e.append(u,y)};e.if(C,u=>{e.get(R),e.get(x),e.deep_read_state(o()),e.untrack(()=>(e.get(R)||e.get(x))&&o().show_recording_waveform)&&u(K)})}var $=e.sibling(C,2);{var oe=u=>{{let y=e.derived_safe_equal(()=>(e.deep_read_state(Q),e.get(B),e.untrack(()=>Q(e.get(B)))));wt(u,{get i18n(){return i()},get timing(){return e.get(R)},get recording(){return p()},get show_recording_waveform(){return e.deep_read_state(o()),e.untrack(()=>o().show_recording_waveform)},get record_time(){return e.get(y)},get record(){return e.get(h)},set record(V){e.set(h,V)},$$legacy:!0})}};e.if($,u=>{e.get(_)&&!e.get(x)&&e.get(I)&&u(oe)})}var fe=e.sibling($,2);{var ee=u=>{$e(u,{get container(){return e.get(g)},get playing(){return e.get(b)},get audio_duration(){return e.get(N)},get i18n(){return i()},get editable(){return f()},interactive:!0,handle_trim_audio:w,show_redo:!0,get handle_reset_value(){return m()},get waveform_options(){return o()},get waveform(){return e.get(n)},set waveform(y){e.set(n,y)},get trimDuration(){return e.get(U)},set trimDuration(y){e.set(U,y)},get mode(){return s()},set mode(y){s(y)},$$legacy:!0})};e.if(fe,u=>{e.get(n)&&e.get(x)&&u(ee)})}return e.reset(S),e.append(j,S),e.pop(G)}var Pt=e.from_html('<div class="svelte-m6ymia"></div>'),St=e.from_html('<button><span class="record-icon svelte-m6ymia"><span class="pinger svelte-m6ymia"></span> <span class="dot svelte-m6ymia"></span></span> </button>'),At=e.from_html('<button class="spinner-button svelte-m6ymia"><div class="icon svelte-m6ymia"><!></div> </button>'),Et=e.from_html('<button class="record-button svelte-m6ymia"><span class="record-icon svelte-m6ymia"><span class="dot svelte-m6ymia"></span></span> </button>'),Mt=e.from_html('<div class="mic-wrap svelte-m6ymia"><!> <div class="controls svelte-m6ymia"><!> <!></div></div>');function Bt(j,t){e.push(t,!1);let s=e.prop(t,"recording",12,!1),i=e.prop(t,"paused_recording",12,!1),d=e.prop(t,"stop",12),r=e.prop(t,"record",12),o=e.prop(t,"i18n",12),m=e.prop(t,"waveform_settings",12),f=e.prop(t,"waveform_options",28,()=>({show_recording_waveform:!0})),p=e.prop(t,"waiting",12,!1),l,n=e.mutable_source(),b=e.mutable_source(),g=e.mutable_source([]);ye(()=>{_()});const _=()=>{l!==void 0&&l.destroy(),e.get(b)&&(l=De.create({...m(),normalize:!1,container:e.get(b)}),e.set(n,l.registerPlugin(me.create())))};var h={get recording(){return s()},set recording(c){s(c),e.flush()},get paused_recording(){return i()},set paused_recording(c){i(c),e.flush()},get stop(){return d()},set stop(c){d(c),e.flush()},get record(){return r()},set record(c){r(c),e.flush()},get i18n(){return o()},set i18n(c){o(c),e.flush()},get waveform_settings(){return m()},set waveform_settings(c){m(c),e.flush()},get waveform_options(){return f()},set waveform_options(c){f(c),e.flush()},get waiting(){return p()},set waiting(c){p(c),e.flush()}};e.init();var x=Mt(),P=e.child(x);{var M=c=>{var D=Pt();let W;e.bind_this(D,O=>e.set(b,O),()=>e.get(b)),e.template_effect(()=>W=e.set_style(D,"",W,{display:s()?"block":"none"})),e.append(c,D)};e.if(P,c=>{e.deep_read_state(f()),e.untrack(()=>f().show_recording_waveform)&&c(M)})}var N=e.sibling(P,2),B=e.child(N);{var q=c=>{var D=St(),W=e.sibling(e.child(D));e.reset(D),e.template_effect(O=>{e.set_class(D,1,e.clsx(i()?"stop-button-paused":"stop-button"),"svelte-m6ymia"),e.set_text(W,` ${O??""}`)},[()=>(e.deep_read_state(i()),e.deep_read_state(o()),e.untrack(()=>i()?o()("audio.pause"):o()("audio.stop")))]),e.event("click",D,()=>{e.get(n)?.stopMic(),d()()}),e.append(c,D)},R=c=>{var D=e.comment(),W=e.first_child(D);{var O=L=>{var k=At(),w=e.child(k),G=e.child(w);it(G),e.reset(w);var S=e.sibling(w);e.reset(k),e.template_effect(H=>e.set_text(S,` ${H??""}`),[()=>(e.deep_read_state(o()),e.untrack(()=>o()("audio.waiting")))]),e.event("click",k,()=>{d()()}),e.append(L,k)},I=L=>{var k=Et(),w=e.sibling(e.child(k));e.reset(k),e.template_effect(G=>e.set_text(w,` ${G??""}`),[()=>(e.deep_read_state(o()),e.untrack(()=>o()("audio.record")))]),e.event("click",k,()=>{e.get(n)?.startMic(),r()()}),e.append(L,k)};e.if(W,L=>{s()&&p()?L(O):L(I,!1)},!0)}e.append(c,D)};e.if(B,c=>{s()&&!p()?c(q):c(R,!1)})}var U=e.sibling(B,2);return Ce(U,{get i18n(){return o()},get micDevices(){return e.get(g)},set micDevices(c){e.set(g,c)},$$legacy:!0}),e.reset(N),e.reset(x),e.append(j,x),e.pop(h)}let je;async function Ut(){const{MediaRecorder:j,register:t}=await Oe(async()=>{const{MediaRecorder:i,register:d}=await import("./module-FFb15TvM.js");return{MediaRecorder:i,register:d}},__vite__mapDeps([0,1]),import.meta.url),{connect:s}=await Oe(async()=>{const{connect:i}=await import("./module-8x-imyhh.js");return{connect:i}},__vite__mapDeps([2,1]),import.meta.url);return t(await s()),je=j,je}var It=e.from_html("<!> <!>",1),Ot=e.from_html("<!> <!>",1),Tt=e.from_html("<!> <div><!> <!> <!></div>",1);function jt(j,t){e.push(t,!1);let s=e.prop(t,"value",12,null),i=e.prop(t,"subtitles",12,null),d=e.prop(t,"label",12),r=e.prop(t,"root",12),o=e.prop(t,"loop",12),m=e.prop(t,"show_label",12,!0),f=e.prop(t,"buttons",28,()=>["download","share"]),p=e.prop(t,"on_custom_button_click",12,null),l=e.prop(t,"sources",28,()=>["microphone","upload"]),n=e.prop(t,"pending",12,!1),b=e.prop(t,"streaming",12,!1),g=e.prop(t,"i18n",12),_=e.prop(t,"waveform_settings",12),h=e.prop(t,"trim_region_settings",28,()=>({})),x=e.prop(t,"waveform_options",28,()=>({})),P=e.prop(t,"dragging",12),M=e.prop(t,"active_source",12),N=e.prop(t,"handle_reset_value",12,()=>{}),B=e.prop(t,"editable",12,!0),q=e.prop(t,"max_file_size",12,null),R=e.prop(t,"upload",12),U=e.prop(t,"stream_handler",12),c=e.prop(t,"stream_every",12,.1),D=e.prop(t,"uploading",12,!1),W=e.prop(t,"recording",12,!1),O=e.prop(t,"class_name",12,""),I=e.prop(t,"upload_promise",12,null),L=e.prop(t,"initial_value",12,null),k=e.prop(t,"playback_position",12,0),w=e.prop(t,"time_limit",12,null),G=e.prop(t,"stream_state",12,"closed"),S=e.mutable_source(),H=e.mutable_source(""),v=e.mutable_source(void 0),C=e.mutable_source([]),K=e.mutable_source(!1),$=!1,oe;const fe=44;let ee=[];typeof window<"u"&&b()&&Ut().then(a=>{oe=a});const y=Pe(),V=a=>a.map(A=>A instanceof Blob?A:A.slice()),z=async(a,A)=>{let J=new File(V(a),"audio.wav",{type:"audio/wav"});if(J.size===0)return;const re=await st([J],A==="stream");L(s()),s((await R()(re,r(),void 0,q()||void 0))?.filter(Boolean)[0]),y(A,s())};Le(()=>{b()&&e.get(S)&&e.get(S).state!=="inactive"&&e.get(S).stop()});async function te(){let a;try{a=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(A){if(!navigator.mediaDevices){y("error",g()("audio.no_device_support"));return}if(A instanceof DOMException&&A.name=="NotAllowedError"){y("error",g()("audio.allow_recording_access"));return}throw A}a!=null&&(b()?(e.set(S,new oe(a,{mimeType:"audio/wav"})),e.get(S).addEventListener("dataavailable",ke)):(e.set(S,new MediaRecorder(a)),e.get(S).addEventListener("dataavailable",A=>{ee.push(A.data)})),e.get(S).addEventListener("stop",async()=>{W(!1),e.get(S).stop(),await z(ee,"change"),await z(ee,"stop_recording"),ee=[]}),$=!0)}async function ke(a){let A=await a.data.arrayBuffer(),J=new Uint8Array(A);if(e.get(v)||(e.set(v,new Uint8Array(A.slice(0,fe))),J=new Uint8Array(A.slice(fe))),n())e.get(C).push(J);else{let re=[e.get(v)].concat(e.get(C),[J]);if(!W()||G()==="waiting")return;z(re,"stream"),e.set(C,[])}}async function ve(){W(!0),y("start_recording"),$||await te(),e.set(v,void 0),b()&&e.get(S).state!="recording"&&e.get(S).start(c()*1e3)}function ce(){y("change",null),y("clear"),e.set(H,""),s(null)}function xe({detail:a}){s(a),y("change",a),y("upload",a)}async function F(){W(!1),b()&&(y("close_stream"),y("stop_recording"),e.get(S).stop(),n()&&e.set(K,!0),z(ee,"stop_recording"),y("clear"),e.set(H,""))}e.legacy_pre_effect(()=>e.deep_read_state(P()),()=>{y("drag",P())}),e.legacy_pre_effect(()=>(e.get(K),e.deep_read_state(n()),e.get(v),e.get(C)),()=>{if(e.get(K)&&n()===!1&&(e.set(K,!1),e.get(v)&&e.get(C))){let a=[e.get(v)].concat(e.get(C));e.set(C,[]),z(a,"stream")}}),e.legacy_pre_effect(()=>(e.deep_read_state(W()),e.get(S)),()=>{!W()&&e.get(S)&&F()}),e.legacy_pre_effect(()=>(e.deep_read_state(W()),e.get(S)),()=>{W()&&e.get(S)&&ve()}),e.legacy_pre_effect_reset();var Y={get value(){return s()},set value(a){s(a),e.flush()},get subtitles(){return i()},set subtitles(a){i(a),e.flush()},get label(){return d()},set label(a){d(a),e.flush()},get root(){return r()},set root(a){r(a),e.flush()},get loop(){return o()},set loop(a){o(a),e.flush()},get show_label(){return m()},set show_label(a){m(a),e.flush()},get buttons(){return f()},set buttons(a){f(a),e.flush()},get on_custom_button_click(){return p()},set on_custom_button_click(a){p(a),e.flush()},get sources(){return l()},set sources(a){l(a),e.flush()},get pending(){return n()},set pending(a){n(a),e.flush()},get streaming(){return b()},set streaming(a){b(a),e.flush()},get i18n(){return g()},set i18n(a){g(a),e.flush()},get waveform_settings(){return _()},set waveform_settings(a){_(a),e.flush()},get trim_region_settings(){return h()},set trim_region_settings(a){h(a),e.flush()},get waveform_options(){return x()},set waveform_options(a){x(a),e.flush()},get dragging(){return P()},set dragging(a){P(a),e.flush()},get active_source(){return M()},set active_source(a){M(a),e.flush()},get handle_reset_value(){return N()},set handle_reset_value(a){N(a),e.flush()},get editable(){return B()},set editable(a){B(a),e.flush()},get max_file_size(){return q()},set max_file_size(a){q(a),e.flush()},get upload(){return R()},set upload(a){R(a),e.flush()},get stream_handler(){return U()},set stream_handler(a){U(a),e.flush()},get stream_every(){return c()},set stream_every(a){c(a),e.flush()},get uploading(){return D()},set uploading(a){D(a),e.flush()},get recording(){return W()},set recording(a){W(a),e.flush()},get class_name(){return O()},set class_name(a){O(a),e.flush()},get upload_promise(){return I()},set upload_promise(a){I(a),e.flush()},get initial_value(){return L()},set initial_value(a){L(a),e.flush()},get playback_position(){return k()},set playback_position(a){k(a),e.flush()},get time_limit(){return w()},set time_limit(a){w(a),e.flush()},get stream_state(){return G()},set stream_state(a){G(a),e.flush()}};e.init();var X=Tt(),ne=e.first_child(X);{let a=e.derived_safe_equal(()=>M()==="upload"&&s()===null),A=e.derived_safe_equal(()=>(e.deep_read_state(d()),e.deep_read_state(g()),e.untrack(()=>d()||g()("audio.audio"))));ot(ne,{get show_label(){return m()},get Icon(){return nt},get float(){return e.get(a)},get label(){return e.get(A)}})}var he=e.sibling(ne,2),Se=e.child(he);Xe(Se,{get time_limit(){return w()}});var Ae=e.sibling(Se,2);{var ze=a=>{var A=e.comment(),J=e.first_child(A);{var re=E=>{var le=It(),se=e.first_child(le);Ie(se,{get i18n(){return g()},$$events:{clear:ce}});var _e=e.sibling(se,2);{var ae=T=>{{let Z=e.derived_safe_equal(()=>G()==="waiting");Bt(T,{record:ve,get recording(){return W()},stop:F,get i18n(){return g()},get waveform_settings(){return _()},get waveform_options(){return x()},get waiting(){return e.get(Z)}})}},ie=T=>{Dt(T,{get i18n(){return g()},get editable(){return B()},get recording(){return W()},dispatch_blob:z,get waveform_settings(){return _()},get waveform_options(){return x()},get handle_reset_value(){return N()},get mode(){return e.get(H)},set mode(Z){e.set(H,Z)},$$events:{start_recording(Z){e.bubble_event.call(this,t,Z)},pause_recording(Z){e.bubble_event.call(this,t,Z)},stop_recording(Z){e.bubble_event.call(this,t,Z)}},$$legacy:!0})};e.if(_e,T=>{b()?T(ae):T(ie,!1)})}e.append(E,le)},ge=E=>{var le=e.comment(),se=e.first_child(le);{var _e=ae=>{{let ie=e.derived_safe_equal(()=>(e.deep_read_state(g()),e.untrack(()=>g()("audio.drop_to_upload"))));rt(ae,{filetype:"audio/aac,audio/midi,audio/mpeg,audio/ogg,audio/wav,audio/x-wav,audio/opus,audio/webm,audio/flac,audio/vnd.rn-realaudio,audio/x-ms-wma,audio/x-aiff,audio/amr,audio/*",get root(){return r()},get max_file_size(){return q()},get upload(){return R()},get stream_handler(){return U()},get aria_label(){return e.get(ie)},get upload_promise(){return I()},set upload_promise(T){I(T)},get dragging(){return P()},set dragging(T){P(T)},get uploading(){return D()},set uploading(T){D(T)},$$events:{load:xe,error:({detail:T})=>y("error",T)},children:(T,Z)=>{var be=e.comment(),pe=e.first_child(be);e.slot(pe,t,"default",{},null),e.append(T,be)},$$slots:{default:!0},$$legacy:!0})}};e.if(se,ae=>{M()==="upload"&&ae(_e)},!0)}e.append(E,le)};e.if(J,E=>{M()==="microphone"?E(re):E(ge,!1)})}e.append(a,A)},Fe=a=>{var A=Ot(),J=e.first_child(A);{let ge=e.derived_safe_equal(()=>(e.deep_read_state(f()),e.deep_read_state(s()),e.untrack(()=>f()===null||f().some(E=>typeof E=="string"&&E==="download")?s().url:null)));Ie(J,{get i18n(){return g()},get download(){return e.get(ge)},$$events:{clear:ce,edit:()=>e.set(H,"edit")},children:(E,le)=>{var se=e.comment(),_e=e.first_child(se);{var ae=ie=>{var T=e.comment(),Z=e.first_child(T);e.each(Z,1,f,e.index,(be,pe)=>{var Ee=e.comment(),He=e.first_child(Ee);{var Ge=de=>{var we=e.comment(),Ye=e.first_child(we);{var Ze=Re=>{ct(Re,{get i18n(){return g()},formatter:async ue=>ue?`<audio controls src="${await Ke(ue.url)}"></audio>`:"",get value(){return s()},$$events:{error(ue){e.bubble_event.call(this,t,ue)},share(ue){e.bubble_event.call(this,t,ue)}}})};e.if(Ye,Re=>{e.get(pe)==="share"&&Re(Ze)})}e.append(de,we)},Ve=de=>{dt(de,{get button(){return e.get(pe)},on_click:we=>{p()&&p()(we)}})};e.if(He,de=>{typeof e.get(pe)=="string"?de(Ge):de(Ve,!1)})}e.append(be,Ee)}),e.append(ie,T)};e.if(_e,ie=>{s()!==null&&f()&&ie(ae)})}e.append(E,se)},$$slots:{default:!0}})}var re=e.sibling(J,2);{let ge=e.derived_safe_equal(()=>(e.deep_read_state(i()),e.untrack(()=>Array.isArray(i())?i():i()?.url)));et(re,{get value(){return s()},get subtitles(){return e.get(ge)},get label(){return d()},get i18n(){return g()},dispatch_blob:z,get waveform_settings(){return _()},get waveform_options(){return x()},get trim_region_settings(){return h()},get handle_reset_value(){return N()},get editable(){return B()},get loop(){return o()},interactive:!0,get mode(){return e.get(H)},set mode(E){e.set(H,E)},get playback_position(){return k()},set playback_position(E){k(E)},$$events:{stop(E){e.bubble_event.call(this,t,E)},play(E){e.bubble_event.call(this,t,E)},pause(E){e.bubble_event.call(this,t,E)},edit(E){e.bubble_event.call(this,t,E)}},$$legacy:!0})}e.append(a,A)};e.if(Ae,a=>{s()===null||b()?a(ze):a(Fe,!1)})}var Ne=e.sibling(Ae,2);return lt(Ne,{get sources(){return l()},handle_clear:ce,get active_source(){return M()},set active_source(a){M(a)},$$legacy:!0}),e.reset(he),e.template_effect(()=>{e.set_class(he,1,`audio-container ${O()??""}`,"svelte-ocxd3m"),e.set_attribute(he,"data-testid",d()?"waveform-"+d():"unlabelled-audio")}),e.append(j,X),e.pop(Y)}var Lt=e.from_html("<!> <!>",1),qt=e.from_html("<!> <!>",1);function Xt(j,t){e.push(t,!0);let s=e.rest_props(t,["$$slots","$$events","$$legacy"]),i=e.state(void 0);t.props.stream_every=.1;class d extends Qe{async get_data(){return e.get(i)&&(await e.get(i),await Je()),await super.get_data()}}const r=new d(s);let o=e.derived(()=>r.shared.label||r.i18n("audio.audio")),m=e.derived(()=>t.minimal??r.props.minimal??!1),f=e.derived(()=>r.props.sources?r.props.sources[0]:null),p=r.props.value;const l=()=>{p===null||r.props.value===p||(r.props.value=p)};let n,b="darkorange",g=e.derived(()=>({height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:r.props.autoplay,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}));const _={color:r.props.waveform_options.trim_region_color,drag:!0,resize:!0};function h(){document.documentElement.style.setProperty("--trim-region-color",_.color||b)}function x({detail:R}){const[U,c]=R.includes("Invalid file type")?["warning","complete"]:["error","error"];r.shared.loading_status&&(r.shared.loading_status.status=c,r.shared.loading_status.message=R),r.dispatch(U,R)}let P=e.state(e.proxy(r.props.value));e.user_effect(()=>{e.get(P)!=r.props.value&&(e.set(P,r.props.value,!0),r.dispatch("change"))}),ye(()=>{b=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),h(),e.get(g).waveColor=r.props.waveform_options.waveform_color||"#9ca3af",e.get(g).progressColor=r.props.waveform_options.waveform_progress_color||b,e.get(g).mediaControls=r.props.waveform_options.show_controls,e.get(g).sampleRate=r.props.waveform_options.sample_rate||44100});var M=e.comment(),N=e.first_child(M);{var B=R=>{{let U=e.derived(()=>n?"focus":"base");Te(R,{variant:"solid",get border_mode(){return e.get(U)},padding:!1,allow_overflow:!1,get elem_id(){return r.shared.elem_id},get elem_classes(){return r.shared.elem_classes},get visible(){return r.shared.visible},get container(){return r.shared.container},get scale(){return r.shared.scale},get min_width(){return r.shared.min_width},children:(c,D)=>{var W=Lt(),O=e.first_child(W);Me(O,e.spread_props({get autoscroll(){return r.shared.autoscroll},get i18n(){return r.i18n}},()=>r.shared.loading_status,{on_clear_status:()=>r.dispatch("clear_status",r.shared.loading_status)}));var I=e.sibling(O,2);{let L=e.derived(()=>r.props.buttons??["download","share"]);tt(I,{get i18n(){return r.i18n},get show_label(){return r.shared.show_label},get buttons(){return e.get(L)},get value(){return r.props.value},get subtitles(){return r.props.subtitles},get label(){return e.get(o)},get loop(){return r.props.loop},get waveform_settings(){return e.get(g)},get waveform_options(){return r.props.waveform_options},get editable(){return r.props.editable},get minimal(){return e.get(m)},on_custom_button_click:k=>{r.dispatch("custom_button_click",{id:k})},get playback_position(){return r.props.playback_position},set playback_position(k){r.props.playback_position=k},$$events:{share:k=>r.dispatch("share",k.detail),error:k=>r.dispatch("error",k.detail),play:()=>r.dispatch("play"),pause:()=>r.dispatch("pause"),stop:()=>r.dispatch("stop")}})}e.append(c,W)},$$slots:{default:!0}})}},q=R=>{{let U=e.derived(()=>r.props.value===null&&e.get(f)==="upload"?"dashed":"solid"),c=e.derived(()=>n?"focus":"base");Te(R,{get variant(){return e.get(U)},get border_mode(){return e.get(c)},padding:!1,allow_overflow:!1,get elem_id(){return r.shared.elem_id},get elem_classes(){return r.shared.elem_classes},get visible(){return r.shared.visible},get container(){return r.shared.container},get scale(){return r.shared.scale},get min_width(){return r.shared.min_width},children:(D,W)=>{var O=qt(),I=e.first_child(O);Me(I,e.spread_props({get autoscroll(){return r.shared.autoscroll},get i18n(){return r.i18n}},()=>r.shared.loading_status,{on_clear_status:()=>r.dispatch("clear_status",r.shared.loading_status)}));var L=e.sibling(I,2);{let k=e.derived(()=>r.props.buttons??[]);jt(L,{get label(){return e.get(o)},get show_label(){return r.shared.show_label},get buttons(){return e.get(k)},on_custom_button_click:w=>{r.dispatch("custom_button_click",{id:w})},get value(){return r.props.value},get subtitles(){return r.props.subtitles},get root(){return r.shared.root},get sources(){return r.props.sources},get active_source(){return e.get(f)},get pending(){return r.shared.loading_status.pending},get streaming(){return r.props.streaming},get loop(){return r.props.loop},get max_file_size(){return r.shared.max_file_size},handle_reset_value:l,get editable(){return r.props.editable},get i18n(){return r.i18n},get waveform_settings(){return e.get(g)},get waveform_options(){return r.props.waveform_options},get trim_region_settings(){return _},get stream_every(){return r.props.stream_every},get stream_state(){return r.shared.loading_status.stream_state},upload:(...w)=>r.shared.client.upload(...w),stream_handler:(...w)=>r.shared.client.stream(...w),get time_limit(){return r.shared.loading_status.time_limit},get upload_promise(){return e.get(i)},set upload_promise(w){e.set(i,w,!0)},get initial_value(){return p},set initial_value(w){p=w},get recording(){return r.props.recording},set recording(w){r.props.recording=w},get dragging(){return n},set dragging(w){n=w},get playback_position(){return r.props.playback_position},set playback_position(w){r.props.playback_position=w},$$events:{change:({detail:w})=>r.props.value=w,stream:({detail:w})=>{r.props.value=w,r.dispatch("stream",r.props.value)},drag:({detail:w})=>n=w,edit:()=>r.dispatch("edit"),play:()=>r.dispatch("play"),pause:()=>r.dispatch("pause"),stop:()=>r.dispatch("stop"),start_recording:()=>r.dispatch("start_recording"),pause_recording:()=>r.dispatch("pause_recording"),stop_recording:w=>{r.dispatch("stop_recording"),r.dispatch("input")},upload:()=>{r.dispatch("upload"),r.dispatch("input")},clear:()=>{r.dispatch("clear"),r.dispatch("input")},error:x,close_stream:()=>r.dispatch("close_stream","stream")},children:(w,G)=>{ut(w,{get i18n(){return r.i18n},type:"audio"})},$$slots:{default:!0}})}e.append(D,O)},$$slots:{default:!0}})}};e.if(N,R=>{r.shared.interactive?R(q,!1):R(B)})}e.append(j,M),e.pop()}export{Xt as I,jt as a,me as o};
